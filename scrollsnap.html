<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link
      rel="icon"
      href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQuoJbBeeut0CeFnBgs6XO1_FxSkgqyIcI9Lw&usqp=CAU"
    />
    <title>Hello, world!</title>
    <link rel="stylesheet" href="./style.css" />
  </head>

  <style>
    @import url(&#34;https://fonts.googleapis.com/css2?family=Bebas+Neue&amp;display=swap&#34;);
    @import url(&#34;https://fonts.googleapis.com/css2?family=Cormorant+Garamond&amp;display=swap&#34;);
    * {
      box-sizing: border-box;
      user-select: none;
    }
    body {
      margin: 0;
      padding: 0;
      height: 100vh;
      color: white;
      background: black;

      text-transform: uppercase;
    }
    h2 {
      font-size: clamp(1rem, 5vw, 5rem);
      font-weight: 400;
      text-align: center;
      letter-spacing: 0.5em;
      margin-right: -0.5em;
      color: #ccc;
      width: 90vw;
      max-width: 1200px;
    }
    header {
      position: fixed;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 5%;
      width: 100%;
      z-index: 3;
      height: 7em;
      font-size: clamp(0.66rem, 2vw, 1rem);
      letter-spacing: 0.5em;
    }
    section {
      height: 100%;
      width: 100%;
      top: 0;
      position: fixed;
      visibility: hidden;
    }
    section .outer,
    section .inner {
      width: 100%;
      height: 100%;
      overflow-y: hidden;
    }
    section .bg {
      display: flex;
      align-items: center;
      justify-content: center;
      position: absolute;
      height: 100%;
      width: 100%;
      top: 0;
      background-size: cover;
      background-position: center;
    }
    section .bg h2 {
      z-index: 2;
    }
    section .bg .clip-text {
      overflow: hidden;
    }
    .first .bg {
      background-image: linear-gradient(
          180deg,
          rgba(0, 0, 0, 0.6) 0%,
          rgba(0, 0, 0, 0.3) 100%
        ),
        url(https://images.unsplash.com/photo-1617478755490-e21232a5eeaf?crop=entropy&amp;nonecs=srgb&amp;fm=jpg&amp;ixid=MnwxNDU4OXwwfDF8cmFuZG9tfHx8fHx8fHx8MTYxNzU1NjM5NA&amp;ixlib=rb-1.2.1&amp;q=75&amp;w=1920);
    }
    .second .bg {
      background-image: linear-gradient(
          180deg,
          rgba(0, 0, 0, 0.6) 0%,
          rgba(0, 0, 0, 0.3) 100%
        ),
        url(&#34;https://images.unsplash.com/photo-1617128734662-66da6c1d3505?crop=entropy&amp;cs=tinysrgb&amp;fit=max&amp;fm=jpg&amp;ixid=MnwxNDU4OXwwfDF8cmFuZG9tfHx8fHx8fHx8MTYxNzc3NTM3MA&amp;ixlib=rb-1.2.1&amp;q=75&amp;w=1920&#34;);
    }
    .third .bg {
      background-image: linear-gradient(
          180deg,
          rgba(0, 0, 0, 0.6) 0%,
          rgba(0, 0, 0, 0.3) 100%
        ),
        url(https://images.unsplash.com/photo-1617438817509-70e91ad264a5?crop=entropy&amp;cs=srgb&amp;fm=jpg&amp;ixid=MnwxNDU4OXwwfDF8cmFuZG9tfHx8fHx8fHx8MTYxNzU2MDk4Mg&amp;ixlib=rb-1.2.1&amp;q=75&amp;w=1920);
    }
    .fourth .bg {
      background-image: linear-gradient(
          180deg,
          rgba(0, 0, 0, 0.6) 0%,
          rgba(0, 0, 0, 0.3) 100%
        ),
        url(https://images.unsplash.com/photo-1617412327653-c29093585207?crop=entropy&amp;cs=srgb&amp;fm=jpg&amp;ixid=MnwxNDU4OXwwfDF8cmFuZG9tfHx8fHx8fHx8MTYxNzU2MDgzMQ&amp;ixlib=rb-1.2.1&amp;q=75&amp;w=1920);
    }
    .fifth .bg {
      background-image: linear-gradient(
          180deg,
          rgba(0, 0, 0, 0.6) 0%,
          rgba(0, 0, 0, 0.3) 100%
        ),
        url(&#34;https://images.unsplash.com/photo-1617141636403-f511e2d5dc17?crop=entropy&amp;cs=srgb&amp;fm=jpg&amp;ixid=MnwxNDU4OXwwfDF8cmFuZG9tfHx8fHx8fHx8MTYxODAzMjc4Mw&amp;ixlib=rb-1.2.1&amp;q=75w=1920&#34;);
      background-position: 50% 45%;
    }
  </style>

  <body>
    HTML SCSS JSResult Skip Results Iframe EDIT ON
    <!--
Sections animate in and out on scroll. Scroll up or down and the sections will wrap around after hitting the start or end. Uses GSAP for the animations.
-->

    <header>
      <div>Animated Sections</div>
      <div>Made By Brian</div>
    </header>
    <section class="first">
      <div class="outer">
        <div class="inner">
          <div class="bg one">
            <h2 class="section-heading">Scroll down</h2>
          </div>
        </div>
      </div>
    </section>
    <section class="second">
      <div class="outer">
        <div class="inner">
          <div class="bg">
            <h2 class="section-heading">Animated with GSAP</h2>
          </div>
        </div>
      </div>
    </section>
    <section class="third">
      <div class="outer">
        <div class="inner">
          <div class="bg">
            <h2 class="section-heading">GreenSock</h2>
          </div>
        </div>
      </div>
    </section>
    <section class="fourth">
      <div class="outer">
        <div class="inner">
          <div class="bg">
            <h2 class="section-heading">Animation platform</h2>
          </div>
        </div>
      </div>
    </section>
    <section class="fifth">
      <div class="outer">
        <div class="inner">
          <div class="bg">
            <h2 class="section-heading">Keep scrolling</h2>
          </div>
        </div>
      </div>
    </section>

    Resources1× 0.5× 0.25×Rerun
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <!-- Option 2: Separate Popper and Bootstrap JS -->
    <!--
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
    -->
    <script>
      // Original Pen:
      // https://codepen.io/BrianCross/pen/PoWapLP

      const sections = document.querySelectorAll("section");
      const images = document.querySelectorAll(".bg");
      const headings = gsap.utils.toArray(".section-heading");
      const outerWrappers = gsap.utils.toArray(".outer");
      const innerWrappers = gsap.utils.toArray(".inner");

      document.addEventListener("wheel", handleWheel);
      document.addEventListener("touchstart", handleTouchStart);
      document.addEventListener("touchmove", handleTouchMove);
      document.addEventListener("touchend", handleTouchEnd);

      let listening = false,
        direction = "down",
        current,
        next = 0;

      const touch = {
        startX: 0,
        startY: 0,
        dx: 0,
        dy: 0,
        startTime: 0,
        dt: 0,
      };

      const tlDefaults = {
        ease: "slow.inOut",
        duration: 1.25,
      };

      const splitHeadings = headings.map((heading) => {
        return new SplitText(heading, {
          type: "chars, words, lines",
          linesClass: "clip-text",
        });
      });

      function revealSectionHeading() {
        return gsap.to(splitHeadings[next].chars, {
          autoAlpha: 1,
          yPercent: 0,
          duration: 1,
          ease: "power2",
          stagger: {
            each: 0.02,
            from: "random",
          },
        });
      }

      gsap.set(outerWrappers, { yPercent: 100 });
      gsap.set(innerWrappers, { yPercent: -100 });

      // Slides a section in on scroll down
      function slideIn() {
        // The first time this function runs, current is undefined
        if (current !== undefined) gsap.set(sections[current], { zIndex: 0 });

        gsap.set(sections[next], { autoAlpha: 1, zIndex: 1 });
        gsap.set(images[next], { yPercent: 0 });
        gsap.set(splitHeadings[next].chars, { autoAlpha: 0, yPercent: 100 });

        const tl = gsap
          .timeline({
            paused: true,
            defaults: tlDefaults,
            onComplete: () => {
              listening = true;
              current = next;
            },
          })
          .to([outerWrappers[next], innerWrappers[next]], { yPercent: 0 }, 0)
          .from(images[next], { yPercent: 15 }, 0)
          .add(revealSectionHeading(), 0);

        if (current !== undefined) {
          tl.add(
            gsap.to(images[current], {
              yPercent: -15,
              ...tlDefaults,
            }),
            0
          ).add(
            gsap
              .timeline()
              .set(outerWrappers[current], { yPercent: 100 })
              .set(innerWrappers[current], { yPercent: -100 })
              .set(images[current], { yPercent: 0 })
              .set(sections[current], { autoAlpha: 0 })
          );
        }

        tl.play(0);
      }

      // Slides a section out on scroll up
      function slideOut() {
        gsap.set(sections[current], { zIndex: 1 });
        gsap.set(sections[next], { autoAlpha: 1, zIndex: 0 });
        gsap.set(splitHeadings[next].chars, { autoAlpha: 0, yPercent: 100 });
        gsap.set([outerWrappers[next], innerWrappers[next]], { yPercent: 0 });
        gsap.set(images[next], { yPercent: 0 });

        gsap
          .timeline({
            defaults: tlDefaults,
            onComplete: () => {
              listening = true;
              current = next;
            },
          })
          .to(outerWrappers[current], { yPercent: 100 }, 0)
          .to(innerWrappers[current], { yPercent: -100 }, 0)
          .to(images[current], { yPercent: 15 }, 0)
          .from(images[next], { yPercent: -15 }, 0)
          .add(revealSectionHeading(), ">-1")
          .set(images[current], { yPercent: 0 });
      }

      function handleDirection() {
        listening = false;

        if (direction === "down") {
          if (current !== sections.length - 1) {
            next = current + 1;
            slideIn();
          } else {
            listening = true;
          }
        }

        if (direction === "up") {
          if (current !== 0) {
            next = current - 1;
            slideOut();
          } else {
            listening = true;
          }
        }
      }

      function handleWheel(e) {
        if (!listening) return;
        direction = e.wheelDeltaY < 0 ? "down" : "up";
        handleDirection();
      }

      function handleTouchStart(e) {
        if (!listening) return;
        const t = e.changedTouches[0];
        touch.startX = t.pageX;
        touch.startY = t.pageY;
      }

      function handleTouchMove(e) {
        if (!listening) return;
        e.preventDefault();
      }

      function handleTouchEnd(e) {
        if (!listening) return;
        const t = e.changedTouches[0];
        touch.dx = t.pageX - touch.startX;
        touch.dy = t.pageY - touch.startY;
        if (touch.dy > 10) direction = "up";
        if (touch.dy < -10) direction = "down";
        handleDirection();
      }

      slideIn();
    </script>
  </body>
</html>
